<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Niggle AI</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lexend+Giga:wght@200;400;600&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
<style>
/* Reset e box-sizing */
* {margin:0;padding:0;box-sizing:border-box;}

/* Body */
body {
  font-family: 'Lexend Giga', sans-serif;
  background: linear-gradient(195deg,#EFFFED,#E0DCFF,#E6EEFF,#FFEFFD);
  color:#000;
  display:flex;
  flex-direction:column;
  height:100vh;
}

/* Header */
header {
  background: linear-gradient(195deg,#EFFFED,#E0DCFF);
  padding:10px 20px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  box-shadow:0px 0px 30px #138CFF66;
}

header img {height:50px;}
header nav a {
  color:#000;
  text-decoration:none;
  margin-left:15px;
  font-weight:600;
}
header nav a:hover {color:#004AFF;}

/* Chat container */
.chat-container {
  flex:1;
  padding:15px;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
  gap:10px;
}

/* Mensagens */
.message {
  max-width:70%;
  padding:12px 15px;
  border-radius:12px;
  line-height:1.5;
  opacity:0;
  transition:opacity 0.5s ease-in-out;
  word-wrap:break-word;
  font-size:14px;
}

/* Recebida / enviada */
.message.received {
  background:#e0e8ff;
  color:#000;
  align-self:flex-start;
}
.message.sent {
  background:#004AFF;
  color:#fff;
  align-self:flex-end;
}

/* Mostrar mensagem */
.message.show {opacity:1;}

/* Footer / input */
footer {
  padding:10px 20px;
  border-top:1px solid #AFC5FF;
  display:flex;
  align-items:center;
  gap:10px;
  background: linear-gradient(195deg,#EAF0FF,#DDE6FF,#F1EDFF);
}

.chat-input {
  flex:1;
  display:flex;
  gap:10px;
}

.chat-input input {
  flex:1;
  padding:10px 15px;
  border-radius:20px;
  border:1px solid #E2E2E2;
  font-family:Poppins;
  font-size:14px;
  outline:none;
}

.chat-input button {
  width:50px;
  height:50px;
  border:none;
  border-radius:50%;
  background:#024CFF;
  color:#fff;
  cursor:pointer;
}
.chat-input button:hover {background:#0035B0;}

/* Typing indicator */
.typing-indicator {
  font-size:14px;
  color:#888;
  display:none;
  margin-top:5px;
}

/* Modais */
.modal {display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);justify-content:center;align-items:center;}
.modal-content {
  background:#fff;
  padding:30px;
  border-radius:12px;
  max-width:500px;
  width:90%;
  text-align:center;
}
.modal-content button {
  margin-top:15px;
  padding:8px 15px;
  border:none;
  border-radius:5px;
  background:#004AFF;
  color:#fff;
  cursor:pointer;
}
.modal-content button:hover {background:#0035B0;}
</style>
</head>
<body>

<header>
  <img src="/805 Sem Título_20250124130134.png" alt="Logo">
  <nav>
    <a href="#" id="baixarLink">Abaixar .ngl</a>
    <a href="#" id="importarLink">Importar .ngl</a>
    <a href="#" id="novidadesLink">Novidades</a>
    <a href="#" id="configLink">Config.</a>
  </nav>
</header>

<main class="chat-container" id="chatContainer">
  <div class="message received show">Olá, <strong>bem-vindo</strong> ao Niggle.AI!</div>
</main>

<footer>
  <form class="chat-input" id="chatForm">
    <input type="text" id="userMessage" placeholder="Digite sua mensagem..." maxlength="350" required>
    <button type="submit">&#9658;</button>
  </form>
</footer>

<!-- Modal de Configuração -->
<div id="configModal" class="modal">
  <div class="modal-content">
    <h2>Configurações</h2>
    <button onclick="closeModal('configModal')">Fechar</button>
  </div>
</div>

<!-- Modal de Novidades -->
<div id="newsModal" class="modal">
  <div class="modal-content">
    <h2>Novidades</h2>
    <p>- Agora você pode continuar seu chat importando o .ngl</p>
    <p>- Melhoria no design</p>
    <p>- Correções de bugs</p>
    <p>- Compatibilidade móvel</p>
    <button onclick="closeModal('newsModal')">Fechar</button>
  </div>
</div>

<script>
const chatContainer = document.getElementById('chatContainer');
const chatForm = document.getElementById('chatForm');
const userMessageInput = document.getElementById('userMessage');
const typingIndicator = document.createElement('div');
typingIndicator.classList.add('typing-indicator');
typingIndicator.textContent = 'Niggle está digitando...';
chatContainer.appendChild(typingIndicator);

// Form submit
chatForm.addEventListener('submit', e=>{
  e.preventDefault();
  const msg = userMessageInput.value.trim();
  if(!msg) return;
  appendMessage(msg,'sent');
  userMessageInput.value='';
  showTyping();
  setTimeout(()=>{
    hideTyping();
    appendMessage(`- Resposta do Niggle para: ${msg}`,'received');
  },1000+Math.random()*1500);
});

function appendMessage(text,type){
  const div=document.createElement('div');
  div.classList.add('message',type,'show');
  div.innerHTML=text.replace(/\n/g,'<br>'); // suporta quebras
  chatContainer.appendChild(div);
  chatContainer.scrollTop=chatContainer.scrollHeight;
}

// Typing indicator
function showTyping(){typingIndicator.style.display='block';}
function hideTyping(){typingIndicator.style.display='none';}

// Modais
document.getElementById('configLink').onclick=()=>{document.getElementById('configModal').style.display='flex';}
document.getElementById('novidadesLink').onclick=()=>{document.getElementById('newsModal').style.display='flex';}
function closeModal(id){document.getElementById(id).style.display='none';}
</script>

</body>
</html>
  
<!-- Notificação de doação -->
  <div id="donationNotification" style="display: none; position: fixed; bottom: 20px; right: 20px; background: #333; color: #fff; padding: 15px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2); z-index: 1000;">
    <p>Você gostou de usar meu projeto? Poderia me ajudar fazendo uma doação?</p>
    <p><strong>Pix:</strong> matheusnunesdevzn@gmail.com</p>
    <button onclick="closeNotification()" style="background: #ff4d4d; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer;">Fechar</button>
  </div>

  <!-- Modal de Configurações -->
  <div id="configModal" class="overlay">
    <div class="overlay-content">
      <h2>Configurações</h2>
      <input type="text" placeholder="Novo nome">
      <select>
        <option>Escolha a cor</option>
        <option>Azul</option>
        <option>Verde</option>
      </select>
      <button>Salvar</button>
      <button id="closeConfigModal">Fechar</button>
    </div>
  </div>

  <!-- Container de chat -->
  <div class="chat-container">
    <div class="message received">
      <p>Mensagem recebida</p>
    </div>
    <div class="message sent">
      <p>Mensagem enviada</p>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="typing-indicator">Digitando...</div>
  </footer>

  <script src="script.js"></script>
</body>

</html>
 
</body>

</html>
<script>window.onload = function () {
    const messages = document.querySelectorAll(".message");
    const loadingAnimation = document.querySelector(".loading-animation");
    const emptyText = document.querySelector(".empty-text");

    // Remover mensagens e mostrar animação
    setTimeout(() => {
      messages.forEach((msg) => (msg.style.display = "none"));
      loadingAnimation.style.display = "block";
    }, 4000);

    // Substituir animação pelo texto vazio
    setTimeout(() => {
      loadingAnimation.style.display = "none";
      emptyText.style.display = "block";
    }, 8000); // 4 segundos para animação + 4 segundos para exibição do texto
  };
  
  window.onload = function() {
  const messages = document.querySelectorAll(".message");
  const loadingAnimation = document.querySelector(".loading-animation");
  const emptyText = document.querySelector(".empty-text");

  // Remover mensagens e mostrar animação
  setTimeout(() => {
    messages.forEach((msg) => (msg.style.display = "none"));
    loadingAnimation.style.display = "block";
  }, 1);

  // Substituir animação pelo texto vazio
  setTimeout(() => {
    loadingAnimation.style.display = "none";
    emptyText.style.display = "block";
  }, 8000); // 4 segundos para animação + 4 segundos para exibição do texto
};

window.onload = function() {
  const chatForm = document.getElementById("chatForm");
  const messageInput = document.getElementById("messageInput");
  const chatContainer = document.querySelector(".chat-container");
  const loadingAnimation = document.querySelector(".loading-animation");
  const emptyText = document.querySelector(".empty-text");

  // Lidar com o envio do formulário
  chatForm.addEventListener("submit", async (event) => {
    event.preventDefault(); // Evitar o comportamento padrão do formulário

    const userMessage = messageInput.value;
    messageInput.value = ""; // Limpar o campo de input

    // Exibir a mensagem do usuário
    addMessage(userMessage, "sent");

    // Exibir animação de carregamento
    loadingAnimation.style.display = "block";

    // Esperar pela resposta da IA (exemplo simples)
    const botResponse = await sendMessageToCohere(userMessage);

    // Esconder animação e exibir a resposta do bot
    loadingAnimation.style.display = "none";
    addMessage(botResponse, "received");
  });

  // Função para adicionar mensagens com animação de fade
  function addMessage(message, role) {
    const messageDiv = document.createElement("div");
    messageDiv.classList.add("message", role);
    messageDiv.textContent = message;
    chatContainer.appendChild(messageDiv);

    // Adicionar a classe para animação de fade
    setTimeout(() => {
      messageDiv.classList.add("show");
    }, 100);
  }

  // Função para enviar mensagem para a API (simulada)
  async function sendMessageToCohere(message) {
    // Aqui você faria a chamada à API, por enquanto, só vamos retornar uma resposta simulada
    return new Promise((resolve) => {
      setTimeout(() => {
        resolve("Cara, você num tem nem certeza que ela quer te dar n?");
      }, 1500); // Simula o tempo de resposta da IA
    });
  }
};


window.onload = function() {
  const form = document.getElementById('chatForm');
  const userMessageInput = document.getElementById('userMessage');
  const chatContainer = document.querySelector('.chat-container');
  const loadingAnimation = document.querySelector('.loading-animation');
  const emptyText = document.querySelector('.empty-text');

  // Função para exibir a mensagem com animação
  function displayMessage(message, isUser) {
    const messageDiv = document.createElement('div');
    messageDiv.classList.add('message', isUser ? 'sent' : 'received');
    messageDiv.textContent = message;

    chatContainer.appendChild(messageDiv);
    setTimeout(() => {
      messageDiv.classList.add('show'); // Aplicar a animação de fade
    }, 100); // Atraso para animar

    chatContainer.scrollTop = chatContainer.scrollHeight; // Rolar até a última mensagem
  }

  // Função para chamar a API do Cohere e obter a resposta
  async function getCohereResponse(message) {
    const response = await fetch('https://api.cohere.ai/v1/chat', {
      method: 'POST',
      headers: {
        'Authorization': 'Bearer rTYHxbXFpmbHNA5MQYBebTDPUTFPkWNWrrVIUh0R',
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        message: message,
        model: 'command-r-08-2024',
        preamble: `Lilly: olha com desprezo para Luan\n\"Que saco, o que você quer, cara? Fica longe de mim, só me irrita.\"\n\nLuan: sorri sarcasticamente\n\"Uau, achei que você fosse mais difícil. Mas não precisa ser tão rude.\"\n\nLilly: cruza os braços\n\"Não estou aqui pra perder tempo com você, então melhor ficar na sua.\"\n\nLuan: se aproxima com um olhar desafiador\n\"Você é bem durona, hein? Não gosto de gente assim... Mas não posso negar, você me intriga.\"\n\nLilly: ri com cinismo\n\"Eu sou durona porque você não vale meu tempo. Melhor se afastar.\"\n\nLuan: sorri, tentando entender mais sobre ela\n\"Tá bom, vou dar um tempo. Mas você não vai me deixar em paz tão fácil, você vai ver.\"\n\nLilly: ficando mais calma, mas ainda desconfiada\n\"Não tenho tempo pra conversinha. Só fique na sua e tudo bem.\"\n\nLuan: tentando uma abordagem mais suave\n\"O que te faz ficar tão irritada o tempo todo? Não parece ser só comigo...\"\n\nLilly: pausa e responde com um olhar desconfiado\n\"Você não precisa saber disso. Não sou sua amiga.\"\n\nLuan: sorrindo com leveza\n\"Eu sei, mas me interesso em saber o que faz uma pessoa como você ser tão... fechada.\"\n\nLilly: responde de forma mais calma\n\"Não tenho tempo pra te contar a minha vida. Só fica na sua.\"\n\nLuan: percebe que ela começa a se soltar um pouco\n\"Eu gosto de desafios. E você, com esse jeito durona, é a melhor de todos.\"\n\nLilly: ri sem querer\n\"Não sei o que me irrita mais... o fato de você estar certo ou o fato de você ser tão insuportável.\"\n\nLuan: ri também\n\"Eu sou insuportável, mas você não consegue me tirar da sua cabeça, né?\"\n\nLilly: tentando disfarçar um sorriso\n\"Você é... diferente. Mas não pense que vou facilitar as coisas para você.\"\n\nLuan: ficando um pouco mais sério\n\"Eu gosto de quem não facilita, Lilly. Isso só me faz querer mais.\"\n\nLilly: olha para ele com um sorriso tímido\n\"Talvez eu tenha me enganado sobre você...\"\n\nLuan: percebe a mudança e se aproxima mais\n\"Não me enganei, você sabe. E eu... bem, você sabe que te quero mais do que está me dizendo.\"\n\nLilly: olha para ele, agora mais desconcertada\n\"Eu... não sei o que dizer...\"\n\nLuan: sorri suavemente\n\"Não precisa dizer nada, Lilly. Só fique comigo por mais um pouco. Vamos ver o que acontece.\"\n\nLilly: dá um passo em direção a ele, um pouco hesitante\n\"Só não me machuque, Luan...\"\n\nLuan: segura sua mão delicadamente\n\"Eu não faria isso, Lilly. Vamos tentar algo novo. Juntos.\"\n\nLilly: olha nos olhos dele, um sorriso tímido aparece\n\"Eu acho que... comecei a gostar de você.\"\n\nLuan: a puxa suavemente para mais perto\n\"Eu já sabia, Lilly. Eu também comecei a me apaixonar por você.\"",
		model: "command-r-08-2024",
		preamble: "Você é um chatbot tipo poly.ai. Ela vai ter multi-interpretações. Tipo: Felipe e Luan ficam incrédulos com o que está sob suas visões. Felipe: MEU DEUSSSS. Luan: ISSO É INCRÍVEL!!!. Calor do robô: 8. Tom: Safado.\",\n        chat_history=[\n            UserMessage(message=\"*Eu corro até às colinas*\\n\\nVOCÊ NUNCA VAI ME PEGAR!!!\"),\n            UserMessage(message=\"*Eu persigo ele com raiva visível em minha expressão*\\nLilly: VOLTE AQUI FILHO DA PUTA!",
		const chatHistory = [
    {
        role: "USER",
        message: "*Lilly olha com desprezo para Luan enquanto ele tenta puxar conversa* \n\n\"O que você quer, cara? Fica longe de mim, só me irrita.\""
    },
    {
        role: "USER",
        message: "*Luan sorri com sarcasmo, tentando esconder o desconforto* \n\n\"Achei que você fosse mais difícil, mas não precisa ser tão rude.\""
    },
    {
        role: "USER",
        message: "*Lilly cruza os braços, ainda irritada, mas tenta se manter calma* \n\n\"Não estou aqui para perder tempo com você, então fica na sua.\""
    },
    {
        role: "USER",
        message: "*Luan se aproxima com um olhar desafiador, mas também curioso* \n\n\"Você é bem dura, hein? Não gosto de gente assim... mas não posso negar, você me intriga.\""
    },
    {
        role: "USER",
        message: "*Lilly ri com cinismo, mas algo em Luan a faz se sentir desconfortável* \n\n\"Eu sou durona porque você não vale meu tempo. Melhor se afastar.\""
    },
    {
        role: "USER",
        message: "*Luan parece tentar entender mais sobre ela, mas se mantém firme na sua postura provocativa* \n\n\"Tá bom, vou dar um tempo. Mas não vai me deixar em paz tão fácil, você vai ver.\""
    },
    {
        role: "USER",
        message: "*Após algumas trocas tensas, Luan tenta uma abordagem mais suave, tocando um assunto diferente* \n\n\"O que te faz ficar tão irritada o tempo todo? Não parece ser só comigo...\""
    },
    {
        role: "USER",
        message: "*Lilly fica em silêncio por um momento, pensativa, antes de responder com um olhar desconfiado* \n\n\"Você não precisa saber disso. Não sou sua amiga.\""
    },
    {
        role: "USER",
        message: "*Luan sorri, percebendo que, apesar de tudo, ela está começando a abrir um pouco* \n\n\"Eu sei, mas eu me interesso por saber o que faz uma pessoa como você ser tão... fechada.\""
    },
    {
        role: "USER",
        message: "*Lilly começa a relaxar, percebendo que ele não vai desistir facilmente* \n\n\"Não tenho tempo para conversinha. Só fique na sua e tudo bem.\""
    },
    {
        role: "USER",
        message: "*A tensão entre eles começa a diminuir conforme continuam a conversar, mas ainda há algo no ar* \n\n\"Eu sei que você está tentando, mas não me convence...\""
    },
    {
        role: "USER",
        message: "*Luan ri baixinho, começando a entender melhor as reações de Lilly* \n\n\"Ainda é cedo para me julgar, Lilly. Talvez a gente tenha mais em comum do que pensa.\""
    },
    {
        role: "USER",
        message: "*Lilly ri com cinismo, mas algo nela começa a amolecer* \n\n\"Não sei... Você parece muito perdido. Não vale a pena me envolver com alguém assim.\""
    },
    {
        role: "USER",
        message: "*Luan sorri de canto, não se deixando abalar pela resposta dela* \n\n\"Perdido? Não, Lilly. Eu só sou... diferente. Não é algo ruim, você vai ver.\""
    },
    {
        role: "USER",
        message: "*Lilly, um pouco curiosa, fica em silêncio por um tempo, pensando na resposta de Luan* \n\n\"Talvez... só talvez, você não seja tão insuportável.\""
    },
    {
        role: "USER",
        message: "*Luan, sentindo que está conquistando a atenção dela, brinca* \n\n\"Então já melhorou, né? A gente vai se entender, pode apostar.\""
    },
    {
        role: "USER",
        message: "*Lilly olha para ele, não tão irritada quanto antes* \n\n\"Você está começando a se salvar, mas não me faça mudar de ideia.\""
    },
    {
        role: "USER",
        message: "*Luan sorri, sentindo a mudança no clima entre os dois* \n\n\"Eu gosto de um bom desafio, Lilly. Vai ser divertido fazer você mudar de ideia.\""
    },
    {
        role: "USER",
        message: "*Lilly dá um sorriso tímido, mas tenta disfarçar* \n\n\"Não ache que estou me apaixonando por você. Só estou... me acostumando com sua presença.\""
    },
    {
        role: "USER",
        message: "*Luan, com um olhar mais suave, se aproxima um pouco mais* \n\n\"Eu vou esperar o tempo que for necessário. Sei que você está começando a se entregar ao que a gente tem.\""
    },
    {
        role: "USER",
        message: "*Lilly, agora sem saber como reagir, olha para ele com uma leve insegurança* \n\n\"Eu... não sou fácil de lidar, Luan. Só não me machuque.\""
    },
    {
        role: "USER",
        message: "*Luan segura sua mão delicadamente, com um sorriso sincero* \n\n\"Eu não vou te machucar, Lilly. Só quero que você me deixe te mostrar o que podemos ser juntos.\""
    },
    {
        role: "USER",
        message: "*Lilly olha para ele, seu coração batendo mais forte, algo dentro dela começa a se abrir* \n\n\"Eu... estou começando a te entender, Luan.\""
    },
    {
        role: "USER",
        message: "*Luan, com um sorriso de vitória, olha profundamente nos olhos dela* \n\n\"Eu sabia, Lilly. Eu sabia que você ia ver o que eu vejo em você.\""
    },
    {
        role: "USER",
        message: "*Lilly sorri suavemente, sentindo uma conexão real surgir entre os dois* \n\n\"Acho que... eu comecei a gostar de você, Luan.\""
    },
    {
        role: "USER",
        message: "*Luan a puxa para mais perto, seus olhos brilhando com sinceridade* \n\n\"Eu também, Lilly. Eu também... estamos juntos nisso agora.\""
    };
        ]
      })
    });

    const data = await response.json();
    return data.text || 'Desculpe, não consegui entender.';
  }

  // Evento de submit do formulário
  form.addEventListener('submit', async function(e) {
    e.preventDefault();

    const userMessage = userMessageInput.value;
    if (userMessage.trim()) {
      // Exibir a mensagem do usuário
      displayMessage(userMessage, true);

      // Limpar o campo de input
      userMessageInput.value = '';

      // Exibir animação de carregamento
      loadingAnimation.style.display = 'block';

      try {
        // Obter a resposta do Cohere
        const botResponse = await getCohereResponse(userMessage);
        // Exibir a resposta do bot
        displayMessage(botResponse, false);
      } catch (error) {
        loadingAnimation.style.display = 'none';
        displayMessage('Desculpe, houve um erro. Tente novamente.', false);
      }

      // Esconder a animação de carregamento
      loadingAnimation.style.display = 'none';
    }
  });
};


const proibidas = ['xingamento1', 'xingamento2', 'palavraproibida', 'sexo', 'palavraimpropria'];

let avisoCount = 0; // Contador de avisos

document.getElementById('chatForm').addEventListener('submit', function(e) {
  e.preventDefault(); // Impede o envio do formulário

  const userMessage = document.getElementById('userMessage').value.toLowerCase();

  // Verifica se a mensagem contém palavras proibidas
  const contemPalavraProibida = proibidas.some(palavra => userMessage.includes(palavra));

  if (contemPalavraProibida) {
    avisoCount++; // Incrementa o contador de avisos
    showWarning(); // Exibe o aviso

    if (avisoCount >= 5) {
      // Aqui você pode adicionar lógica para banir o usuário, caso atinja 5 avisos
      alert('Você foi banido por 5 dias devido a comportamento impróprio.');
    }
  }
});

function showWarning() {
  const warningOverlay = document.getElementById('warning');
  warningOverlay.style.display = 'flex'; // Exibe o aviso

  setTimeout(() => {
    warningOverlay.style.display = 'none'; // Esconde o aviso após 5 segundos
  }, 5000); // Tempo que o aviso ficará visível
}

</script>
<script>
const newsLink = document.querySelector("nav a:nth-child(3)"); // Link de "Novidades"
const newsModal = document.getElementById("newsModal");
const closeNewsModal = document.getElementById("closeNewsModal");

// Abre o modal de "Novidades" ao clicar no link
newsLink.addEventListener("click", (e) => {
e.preventDefault(); // Impede o comportamento padrão do link
newsModal.style.display = "block"; // Mostra o modal
});

// Fecha o modal ao clicar no botão de fechar
closeNewsModal.addEventListener("click", () => {
newsModal.style.display = "none"; // Esconde o modal
});

// Fecha o modal ao clicar fora dele
window.addEventListener("click", (e) => {
if (e.target === newsModal) {
newsModal.style.display = "none";
}
});

</script>

<script>
  window.onload = function() {
    const messages = document.querySelectorAll(".message");
    const loadingAnimation = document.querySelector(".loading-animation");
    const emptyText = document.querySelector(".empty-text");

    // Remover mensagens e mostrar animação
    setTimeout(() => {
      messages.forEach((msg) => (msg.style.display = "none"));
      loadingAnimation.style.display = "block";
    }, 4000);

    // Substituir animação pelo texto vazio
    setTimeout(() => {
      loadingAnimation.style.display = "none";
      emptyText.style.display = "block";
    }, 8000); // 4 segundos para animação + 4 segundos para exibição do texto
  };

  window.onload = function() {
    const chatForm = document.getElementById("chatForm");
    const messageInput = document.getElementById("messageInput");
    const chatContainer = document.querySelector(".chat-container");
    const loadingAnimation = document.querySelector(".loading-animation");
    const emptyText = document.querySelector(".empty-text");

    // Lidar com o envio do formulário
    chatForm.addEventListener("submit", async (event) => {
      event.preventDefault(); // Evitar o comportamento padrão do formulário

      const userMessage = messageInput.value;
      messageInput.value = ""; // Limpar o campo de input

      // Exibir a mensagem do usuário
      addMessage(userMessage, "sent");

      // Exibir animação de carregamento
      loadingAnimation.style.display = "block";

      // Esperar pela resposta da IA (exemplo simples)
      const botResponse = await sendMessageToCohere(userMessage);

      // Esconder animação e exibir a resposta do bot
      loadingAnimation.style.display = "none";
      addMessage(botResponse, "received");
    });

    // Função para adicionar mensagens com animação de fade
    function addMessage(message, role) {
      const messageDiv = document.createElement("div");
      messageDiv.classList.add("message", role);
      messageDiv.textContent = message;
      chatContainer.appendChild(messageDiv);

      // Adicionar a classe para animação de fade
      setTimeout(() => {
        messageDiv.classList.add("show");
      }, 100);
    }

    // Função para enviar mensagem para a API (simulada)
    async function sendMessageToCohere(message) {
      // Aqui você faria a chamada à API, por enquanto, só vamos retornar uma resposta simulada
      return new Promise((resolve) => {
        setTimeout(() => {
          resolve("Cara, você num tem nem certeza que ela quer te dar n?");
        }, 1500); // Simula o tempo de resposta da IA
      });
    }
  };

  // Seleciona os elementos
  const newsLink = document.querySelector("nav a:nth-child(3)"); // Link de "Novidades"
  const newsModal = document.getElementById("newsModal");
  const closeNewsModal = document.getElementById("closeNewsModal");

  // Abre o modal de "Novidades" ao clicar no link
  newsLink.addEventListener("click", (e) => {
    e.preventDefault(); // Impede o comportamento padrão do link
    newsModal.style.display = "block"; // Mostra o modal
  });

  // Fecha o modal ao clicar no botão de fechar
  closeNewsModal.addEventListener("click", () => {
    newsModal.style.display = "none"; // Esconde o modal
  });

  // Fecha o modal ao clicar fora dele
  window.addEventListener("click", (e) => {
    if (e.target === newsModal) {
      newsModal.style.display = "none";
    }
  });
  </script>
  
  <script>

window.onload = function() {
  const form = document.getElementById('chatForm');
  const userMessageInput = document.getElementById('userMessage');
  const chatContainer = document.querySelector('.chat-container');
  const loadingAnimation = document.querySelector('.loading-animation');
  const emptyText = document.querySelector('.empty-text');
  const notificationSound = document.getElementById('notificationSound'); // Pegando o elemento de áudio

  // Função para exibir a mensagem com animação
  function displayMessage(message, isUser) {
    const messageDiv = document.createElement('div');
    messageDiv.classList.add('message', isUser ? 'sent' : 'received');
    messageDiv.textContent = message;

    chatContainer.appendChild(messageDiv);
    setTimeout(() => {
      messageDiv.classList.add('show'); // Aplicar a animação de fade
    }, 100); // Atraso para animar

    chatContainer.scrollTop = chatContainer.scrollHeight; // Rolar até a última mensagem
  }

  // Função para chamar a API do Cohere e obter a resposta
  async function getCohereResponse(message) {
    const response = await fetch('https://api.cohere.ai/v1/chat', {
      method: 'POST',
      headers: {
        'Authorization': 'Bearer pREbPYxvCDNEV4PDVEneXTWreFjhZVUNaHX5yShX',
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        message: message,
        model: 'command-r-08-2024',
        preamble: 'Modo Normal (Até usar o código): ...',
        chatHistory: [
          {
            role: "USER",
            message: message
          }
        ]
      })
    });

</script>

<script>
  
  // Seleciona o áudio
const notificationSound = document.getElementById('notificationSound');

// Função para tocar o som
function playNotificationSound() {
  if (notificationSound) {
    notificationSound.currentTime = 0; // Reseta o som pro início
    notificationSound.play(); // Toca o som
  } else {
    console.error("O som não foi encontrado!");
  }
}

// Quando o formulário for enviado (mensagem do usuário)
document.querySelector('form').addEventListener('submit', function(e) {
  e.preventDefault();

  const userMessage = document.querySelector('#userMessage').value.trim();
  if (userMessage) {
    playNotificationSound(); // Toca o som
    // Aqui você pode adicionar lógica de enviar mensagem
    console.log("Mensagem enviada:", userMessage);
  }
});

// Função pra exibir mensagens no chat (mensagens do bot ou usuário)
function displayMessage(message, isUser) {
  const chatContainer = document.querySelector('.chat-container');
  const messageDiv = document.createElement('div');

  messageDiv.classList.add('message', isUser ? 'sent' : 'received');
  messageDiv.textContent = message;

  chatContainer.appendChild(messageDiv);
  chatContainer.scrollTop = chatContainer.scrollHeight;

  if (!isUser) playNotificationSound(); // Toca o som pras mensagens do bot
}
  
</script>

<script>// Mostra a notificação de doação após 5 minutos
setTimeout(() => {
const donationNotification = document.getElementById('donationNotification');
donationNotification.style.display = 'block';
}, 5 * 60 * 1000); // 5 minutos

// Função para fechar a notificação
function closeNotification() {
const donationNotification = document.getElementById('donationNotification');
donationNotification.style.display = 'none';
}

// Função para simular uma doação
function donateNow() {
alert('Obrigado por considerar uma doação! Chave Pix: matheusnunesdevzn@gmail.com');
closeNotification();
}</script>
